<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
                
        console.log('person1:shows ticket');
        console.log('person2:shows ticket');
        const premovie=async () => {
            const promisewifebringtikcets=new Promise((resolve,reject)=>{
                setTimeout(()=>resolve('ticket'),3000);
            })
        const getpopcorn=new Promise((resolve,reject)=>resolve('popcorn'));
        const addbutter=new Promise((resolve,reject)=>resolve('butter'));
        const getColdDrinks=new Promise((resolve,reject)=>resolve('colddrink'));
        let [popcorn,butter,colddrink]=await Promise.all([getpopcorn,addbutter,getColdDrinks]);
        let ticket=await promisewifebringtikcets;
        console.log(`${popcorn},${butter},${colddrink}`)

        return ticket;
        }
        premovie().then((m)=>console.log(`person3:shows ${m}`));
        console.log('person4:shows ticket');
        console.log('person5:shows ticket');



        const posts=[];
        const user={
            username:'sree',
            lastactivitytime:'4:30pm, 9th of sep '
        }
        function createpost(user){
            return new Promise((resolve,reject)=>{
                setTimeout(()=>{
                    posts.push(user);
                    resolve("post created successfully");
                },1000)
            })
        }


        function updateLastUserActivityTime(){
        return new Promise((resolve)=>{
            setTimeout(()=>{
                user.lastactivitytime=new Date().getTime();
                resolve();
            },1000)
        })
        }

        function deletepost(){
            return new Promise((resolve,reject)=>{
                if(posts.length>0){
                    posts.pop();
                    resolve();
                }else{
                    reject('no posts are there to delete')
                }
            },1000)
        }

        const userupdatesapost=async ()=>{
            try{
                console.log('before creating post 4, user lastactivitytime:',user.lastactivitytime)
                await createpost(user);
                await updateLastUserActivityTime();
                console.log('after creating post 4');
                console.log('posts:',posts);
                console.log('user last activity time:',user.lastactivitytime)
            
            }catch(err){
                console.log(err)
            }
        }
        userupdatesapost();

    </script>
</body>
</html>